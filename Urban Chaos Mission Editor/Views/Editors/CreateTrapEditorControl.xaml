<UserControl x:Class="UrbanChaosMissionEditor.Views.Editors.CreateTrapEditorControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d">

    <UserControl.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="#FFCCCCCC"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="#FFCCCCCC"/>
            <Setter Property="Padding" Value="0,2"/>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="BorderBrush" Value="#FF555555"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="ItemTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" Foreground="Black"/>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="ComboBoxItem">
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="Background" Value="White"/>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="#FF3E3E42"/>
            <Setter Property="Foreground" Value="#FFEEEEEE"/>
            <Setter Property="BorderBrush" Value="#FF555555"/>
            <Setter Property="Padding" Value="4,2"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="Width" Value="60"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="#FFCCCCCC"/>
            <Setter Property="Margin" Value="0,2"/>
        </Style>
        <Style TargetType="Slider">
            <Setter Property="Margin" Value="0,2"/>
        </Style>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="0,0,10,0">
            <TextBlock Text="Create Trap Configuration" FontWeight="SemiBold" Margin="0,0,0,10"/>

            <!-- Trap Type and Axis -->
            <TextBlock Text="Trap Settings" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <Grid Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Label Grid.Row="0" Grid.Column="0" Content="Trap Type:"/>
                <ComboBox Grid.Row="0" Grid.Column="1" 
                          ItemsSource="{Binding TrapTypeOptions}"
                          SelectedIndex="{Binding TrapType}"
                          ToolTip="Type of trap"/>

                <Label Grid.Row="1" Grid.Column="0" Content="Direction:"/>
                <ComboBox Grid.Row="1" Grid.Column="1" 
                          ItemsSource="{Binding TrapAxisOptions}"
                          SelectedIndex="{Binding TrapAxis}"
                          ToolTip="Direction the trap fires"/>
            </Grid>

            <Separator Background="#FF555555" Margin="0,5,0,10"/>

            <!-- Animation Parameters -->
            <TextBlock Text="Animation Parameters" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <Grid Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="60"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Label Grid.Row="0" Grid.Column="0" Content="Speed:"/>
                <Slider Grid.Row="0" Grid.Column="1" 
                        Minimum="1" Maximum="32" 
                        Value="{Binding TrapSpeed}"
                        TickFrequency="1" IsSnapToTickEnabled="True"
                        ToolTip="Animation speed (1-32)"/>
                <TextBox Grid.Row="0" Grid.Column="2" 
                         Text="{Binding TrapSpeed, UpdateSourceTrigger=PropertyChanged}"
                         ToolTip="Animation speed (1-32)"/>

                <Label Grid.Row="1" Grid.Column="0" Content="Steps:"/>
                <Slider Grid.Row="1" Grid.Column="1" 
                        Minimum="1" Maximum="32" 
                        Value="{Binding TrapSteps}"
                        TickFrequency="1" IsSnapToTickEnabled="True"
                        ToolTip="Number of animation steps (1-32)"/>
                <TextBox Grid.Row="1" Grid.Column="2" 
                         Text="{Binding TrapSteps, UpdateSourceTrigger=PropertyChanged}"
                         ToolTip="Number of animation steps (1-32)"/>

                <Label Grid.Row="2" Grid.Column="0" Content="Range:"/>
                <Slider Grid.Row="2" Grid.Column="1" 
                        Minimum="1" Maximum="32" 
                        Value="{Binding TrapRange}"
                        TickFrequency="1" IsSnapToTickEnabled="True"
                        ToolTip="Effect range (1-32)"/>
                <TextBox Grid.Row="2" Grid.Column="2" 
                         Text="{Binding TrapRange, UpdateSourceTrigger=PropertyChanged}"
                         ToolTip="Effect range (1-32)"/>
            </Grid>

            <Separator Background="#FF555555" Margin="0,5,0,10"/>

            <!-- Step Pattern -->
            <TextBlock Text="Step Activation Pattern" FontWeight="SemiBold" Margin="0,0,0,5"/>
            <TextBlock Text="Select which steps are active (creates on/off pattern):" 
                       Foreground="#FF888888" FontStyle="Italic" FontSize="11" Margin="0,0,0,5"/>

            <!-- Row 1: Steps 1-8 -->
            <WrapPanel Margin="10,0,0,0">
                <CheckBox Content="1" IsChecked="{Binding TrapStep1}" Width="50" 
                          Visibility="{Binding TrapStep1Visibility}"/>
                <CheckBox Content="2" IsChecked="{Binding TrapStep2}" Width="50"
                          Visibility="{Binding TrapStep2Visibility}"/>
                <CheckBox Content="3" IsChecked="{Binding TrapStep3}" Width="50"
                          Visibility="{Binding TrapStep3Visibility}"/>
                <CheckBox Content="4" IsChecked="{Binding TrapStep4}" Width="50"
                          Visibility="{Binding TrapStep4Visibility}"/>
                <CheckBox Content="5" IsChecked="{Binding TrapStep5}" Width="50"
                          Visibility="{Binding TrapStep5Visibility}"/>
                <CheckBox Content="6" IsChecked="{Binding TrapStep6}" Width="50"
                          Visibility="{Binding TrapStep6Visibility}"/>
                <CheckBox Content="7" IsChecked="{Binding TrapStep7}" Width="50"
                          Visibility="{Binding TrapStep7Visibility}"/>
                <CheckBox Content="8" IsChecked="{Binding TrapStep8}" Width="50"
                          Visibility="{Binding TrapStep8Visibility}"/>
            </WrapPanel>

            <!-- Row 2: Steps 9-16 -->
            <WrapPanel Margin="10,0,0,0">
                <CheckBox Content="9" IsChecked="{Binding TrapStep9}" Width="50"
                          Visibility="{Binding TrapStep9Visibility}"/>
                <CheckBox Content="10" IsChecked="{Binding TrapStep10}" Width="50"
                          Visibility="{Binding TrapStep10Visibility}"/>
                <CheckBox Content="11" IsChecked="{Binding TrapStep11}" Width="50"
                          Visibility="{Binding TrapStep11Visibility}"/>
                <CheckBox Content="12" IsChecked="{Binding TrapStep12}" Width="50"
                          Visibility="{Binding TrapStep12Visibility}"/>
                <CheckBox Content="13" IsChecked="{Binding TrapStep13}" Width="50"
                          Visibility="{Binding TrapStep13Visibility}"/>
                <CheckBox Content="14" IsChecked="{Binding TrapStep14}" Width="50"
                          Visibility="{Binding TrapStep14Visibility}"/>
                <CheckBox Content="15" IsChecked="{Binding TrapStep15}" Width="50"
                          Visibility="{Binding TrapStep15Visibility}"/>
                <CheckBox Content="16" IsChecked="{Binding TrapStep16}" Width="50"
                          Visibility="{Binding TrapStep16Visibility}"/>
            </WrapPanel>

            <!-- Row 3: Steps 17-24 -->
            <WrapPanel Margin="10,0,0,0">
                <CheckBox Content="17" IsChecked="{Binding TrapStep17}" Width="50"
                          Visibility="{Binding TrapStep17Visibility}"/>
                <CheckBox Content="18" IsChecked="{Binding TrapStep18}" Width="50"
                          Visibility="{Binding TrapStep18Visibility}"/>
                <CheckBox Content="19" IsChecked="{Binding TrapStep19}" Width="50"
                          Visibility="{Binding TrapStep19Visibility}"/>
                <CheckBox Content="20" IsChecked="{Binding TrapStep20}" Width="50"
                          Visibility="{Binding TrapStep20Visibility}"/>
                <CheckBox Content="21" IsChecked="{Binding TrapStep21}" Width="50"
                          Visibility="{Binding TrapStep21Visibility}"/>
                <CheckBox Content="22" IsChecked="{Binding TrapStep22}" Width="50"
                          Visibility="{Binding TrapStep22Visibility}"/>
                <CheckBox Content="23" IsChecked="{Binding TrapStep23}" Width="50"
                          Visibility="{Binding TrapStep23Visibility}"/>
                <CheckBox Content="24" IsChecked="{Binding TrapStep24}" Width="50"
                          Visibility="{Binding TrapStep24Visibility}"/>
            </WrapPanel>

            <!-- Row 4: Steps 25-32 -->
            <WrapPanel Margin="10,0,0,10">
                <CheckBox Content="25" IsChecked="{Binding TrapStep25}" Width="50"
                          Visibility="{Binding TrapStep25Visibility}"/>
                <CheckBox Content="26" IsChecked="{Binding TrapStep26}" Width="50"
                          Visibility="{Binding TrapStep26Visibility}"/>
                <CheckBox Content="27" IsChecked="{Binding TrapStep27}" Width="50"
                          Visibility="{Binding TrapStep27Visibility}"/>
                <CheckBox Content="28" IsChecked="{Binding TrapStep28}" Width="50"
                          Visibility="{Binding TrapStep28Visibility}"/>
                <CheckBox Content="29" IsChecked="{Binding TrapStep29}" Width="50"
                          Visibility="{Binding TrapStep29Visibility}"/>
                <CheckBox Content="30" IsChecked="{Binding TrapStep30}" Width="50"
                          Visibility="{Binding TrapStep30Visibility}"/>
                <CheckBox Content="31" IsChecked="{Binding TrapStep31}" Width="50"
                          Visibility="{Binding TrapStep31Visibility}"/>
                <CheckBox Content="32" IsChecked="{Binding TrapStep32}" Width="50"
                          Visibility="{Binding TrapStep32Visibility}"/>
            </WrapPanel>

            <!-- Step Mask Summary -->
            <TextBlock Margin="0,0,0,10">
                <Run Text="Active pattern: " Foreground="#FF888888"/>
                <Run Text="{Binding TrapStepPatternText, Mode=OneWay}" Foreground="#FF88CC88"/>
            </TextBlock>

            <Separator Background="#FF555555" Margin="0,5,0,10"/>

            <!-- Info -->
            <TextBlock TextWrapping="Wrap" Foreground="#FF888888" FontStyle="Italic" FontSize="11">
                <Run Text="Creates an environmental trap (e.g., steam jet) that activates on trigger."/>
                <LineBreak/>
                <Run Text="Speed controls how fast the animation cycles."/>
                <LineBreak/>
                <Run Text="Steps determines the animation frame count, and the pattern controls which frames are active."/>
                <LineBreak/>
                <Run Text="Range sets how far the effect reaches."/>
            </TextBlock>
        </StackPanel>
    </ScrollViewer>
</UserControl>
